## Техническое задание (ТЗ)

### 1. Название проекта
ShopList — Сайт для публикации физических товаров и адресов магазинов

### 2. О заказчике
- Компания: RetailNet Solutions — локальный IT‑интегратор для сетей розничной торговли.
- Клиенты: офлайн‑магазины электроники, одежды, продуктов, без полноценного e‑commerce.
- Контекст: размещение ассортимента и информации о наличии в конкретных точках продаж.

### 3. Цель заказчика
Создать минималистичную витрину товаров с удобным управлением через интерфейс менеджера, с приоритетом на простоту, доступность и мобильную читаемость.

### 4. Концепция продукта
Веб‑приложение на Django, позволяющее:
- публиковать товары (название, цена, фото);
- отображать адреса магазинов, где товар доступен;
- искать товары по названию;
- просматривать детальные страницы товара;
- авторизовываться пользователям с ролями; менеджеры управляют товарами через веб‑интерфейс.

### 5. Цель проекта
Развернуть сайт‑витрину на Django с CRUD для менеджеров и ролевой моделью доступа, обеспечив быстрый просмотр каталога и деталей товаров.

### 6. Описание
- Главная страница: список товаров с поиском по названию; опционально пагинация/«ленивая» подгрузка.
- Детальная страница: фото, цена, описание, список магазинов и их адреса.
- Аутентификация: регистрация/вход/выход; роли: пользователь, менеджер, администратор.
- Админ/менеджер: интерфейсы для создания, редактирования, удаления товаров и привязки к магазинам.

### 7. Функциональные требования
1) Главная / список товаров
   - Отображение: название, цена, миниатюра изображения.
   - Поиск по названию (и описанию).
   - Пагинация или подгрузка страниц.

2) Страница товара
   - Название, увеличенная картинка, цена.
   - Список адресов магазинов (ManyToMany `Product` ↔ `Shop`).

3) Аутентификация и роли
   - Регистрация и вход пользователей.
   - Роли: пользователь (просмотр), менеджер (CRUD товаров), администратор (полный доступ).

4) Управление товарами (менеджеры/админы)
   - Создание/редактирование/удаление товара.
   - Загрузка/привязка изображений.
   - Привязка магазинов и их адресов.

### 8. Нефункциональные требования
- Язык: Python 3.10+ (проект использует 3.12).
- Фреймворк: Django 4.x (проект использует 4.2).
- Шаблоны: Django Templates; стили — Tailwind (разрешён как альтернатива Bootstrap).
- Хранение изображений: `MEDIA_ROOT`.
- Адаптивная верстка: поддержка десктопа и мобильных.

### 9. Стек технологий
- Backend/Frontend: Django Templates.
- База данных: dev — (в ТЗ указана SQLite; проект сейчас использует PostgreSQL, возможно добавить dev‑профиль на SQLite). 
- Аутентификация: кастомная модель `products.User` (ролевая), Django auth; есть вспомогательный `ClientAccount` для клиентской сессии.
- UI: TailwindCSS (допустимо вместо Bootstrap).

### 10. Критерии успешного выполнения
- Пользователь может зарегистрироваться и войти.
- Есть главная страница со списком и поиском.
- Есть страница товара с фото, ценой, адресами магазинов.
- Менеджер может добавлять/редактировать/удалять товары (ролевые ограничения работают).
- Код структурирован, есть инструкции запуска в `README.md`.

### 11. План реализации (поэтапно)
Этап 1: Базовая настройка
- Создать Django‑проект и приложение `products`.
- Настроить `MEDIA` для изображений.
- Создать модели `Product`, `User`, `Shop` и связанные сущности (например, `ProductImage`).

Этап 2: Аутентификация и роли
- Кастомная модель пользователя с ролями.
- Регистрация, вход/выход.
- Ограничение доступа CBV mixin‑ами/декораторами.

Этап 3: Вывод списка и карточки
- Список товаров с поиском по названию.
- Страница товара с адресами магазинов.

Этап 4: CRUD для менеджеров
- Формы создания/редактирования товара.
- Интерфейс управления.
- Удаление.

Этап 5: Фронтенд и оформление
- Адаптивная верстка, стили Tailwind.
- Улучшенный UX мобильной версии.

Этап 6: Финализация
- Тестирование.
- Обновление `README.md` и требований запуска.
- Подготовка к деплою.

### Привязка к текущей реализации проекта
- `products.models.Product`: `name`, `description`, `price`, изображения через `ProductImage`, привязка к магазинам `shops: ManyToMany(Shop)`.
- `products.models.Shop`: `name`, `address`, `city` и др. — адреса магазинов.
- Главная: `products.views.index` — список, поиск по `q`.
- Детальная: `products.views.ProductDetailView` и шаблон `products/templates/product_detail.html` — включает список магазинов и адресов.
- Роли: `products.User.role` с mixin‑ами `ManagerRequiredMixin`, `AdminRequiredMixin`.
- CRUD: `manager/` + `product/add|edit|delete/` — доступны менеджеру.
- БД: сейчас PostgreSQL; для соответствия ТЗ можно включить профиль SQLite в dev.


